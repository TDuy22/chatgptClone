[
  {
    "messageId": "msg_bot_1",
    "sender": "bot",
    "timestamp": "2025-11-06T17:50:00Z",
    "content": {
      "blocks": [
        {
          "type": "markdown",
          "body": "Chào bạn, đây là tóm tắt nhanh về các 'feature flags' đang hoạt động [1]:"
        },
        {
          "type": "table",
          "data": {
            "headers": [
              { "key": "flagName", "title": "Tên cờ (Flag)" },
              { "key": "status", "title": "Trạng thái" },
              { "key": "rollout", "title": "Tỷ lệ (%)" }
            ],
            "rows": [
              { "flagName": "new-dashboard-ui", "status": "Active", "rollout": "50%" },
              { "flagName": "payment-gateway-v2", "status": "Testing [2]", "rollout": "10%" }
            ]
          }
        }
      ],
      "sources": [
        {
          "id": "1",
          "fileName": "42321400.pdf",
          "pageNumber": 3,
          "fileUrl": "data/42321400.pdf",
          "snippet": "Để đảm bảo tính chính xác, mỗi câu trả lời phải được liên kết với metadata... bao gồm tên file và số trang cụ thể."
        },
        {
          "id": "2",
          "fileName": "42321400.pdf",
          "pageNumber": 2,
          "fileUrl": "data/42321400.pdf",
          "snippet": "Tính năng 'Click-to-Source': Cho phép người dùng bấm vào trích dẫn [id] để mở file nguồn tại đúng trang [page]."
        }
      ]
    }
  },
  {
    "messageId": "msg_bot_2",
    "sender": "bot",
    "timestamp": "2025-11-06T17:51:15Z",
    "content": {
      "blocks": [
        {
          "type": "markdown",
          "body": "Như đã trao đổi, đây là bảng so sánh về Kafka và RabbitMQ:"
        },
        {
          "type": "table",
          "data": {
            "headers": [
              { "key": "feature", "title": "Đặc điểm" },
              { "key": "kafka", "title": "Apache Kafka" },
              { "key": "rabbitmq", "title": "RabbitMQ" }
            ],
            "rows": [
              { "feature": "Mô hình chính", "kafka": "Publish/Subscribe (dựa trên log) [3]", "rabbitmq": "Routing, Queuing [4]" },
              { "feature": "Thông lượng", "kafka": "Rất cao (Streaming)", "rabbitmq": "Cao (Task queuing)" }
            ]
          }
        },
        {
          "type": "markdown",
          "body": "Hãy chú ý đến sự khác biệt về mô hình lưu trữ của chúng."
        }
      ],
      "sources": [
        {
          "id": "3",
          "fileName": "TKDE.2006.150.pdf",
          "pageNumber": 8,
          "fileUrl": "data/TKDE.2006.150.pdf",
          "snippet": "Regex có thể được sử dụng để trích xuất các ID trích dẫn (ví dụ: /\\[(\\d+)\\]/g) từ chuỗi văn bản trả về."
        },
                {
          "id": "4",
          "fileName": "TKDE.2006.150.pdf",
          "pageNumber": 2,
          "fileUrl": "data/TKDE.2006.150.pdf",
          "snippet": "Regex có thể được sử dụng để trích xuất các ID trích dẫn (ví dụ: /\\[(\\d+)\\]/g) từ chuỗi văn bản trả về."
        }
      ]
    }
  },
  {
    "messageId": "msg_bot_3",
    "sender": "bot",
    "timestamp": "2025-11-06T17:52:30Z",
    "content": {
      "blocks": [
        {
          "type": "markdown",
          "body": "Về các mã lỗi bạn hỏi, đây là thông tin chi tiết từ tài liệu [5]:"
        },
        {
          "type": "table",
          "data": {
            "headers": [
              { "key": "code", "title": "Mã lỗi" },
              { "key": "description", "title": "Mô tả" },
              { "key": "action", "title": "Hành động" }
            ],
            "rows": [
              { "code": "E-404", "description": "Không tìm thấy tài nguyên", "action": "Kiểm tra lại ID [6]" },
              { "code": "E-503", "description": "Dịch vụ quá tải", "action": "Thử lại sau" }
            ]
          }
        },
        {
          "type": "markdown",
          "body": "Bạn cần liên hệ admin nếu gặp lỗi `E-503` quá 3 lần."
        }
      ],
      "sources": [
        {
          "id": "5",
          "fileName": "TKDE.2006.150.pdf",
          "pageNumber": 1,
          "fileUrl": "data/TKDE.2006.150.pdf",
          "snippet": "Nếu một ID trích dẫn trong 'answer' không có mục 'source' tương ứng, hãy vô hiệu hóa liên kết đó."
        },
                {
          "id": "6",
          "fileName": "TKDE.2006.150.pdf",
          "pageNumber": 2,
          "fileUrl": "data/TKDE.2006.150.pdf",
          "snippet": "Nếu một ID trích dẫn trong 'answer' không có mục 'source' tương ứng, hãy vô hiệu hóa liên kết đó."
        }
      ]
    }
  }
]